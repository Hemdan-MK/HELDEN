<!DOCTYPE html>
<html lang="en">

<head>
<title>Payment Success</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->
<link rel="icon" type="image/png" href="/users/images/icons/favicon.png" />
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/fonts/iconic/css/material-design-iconic-font.min.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/fonts/linearicons-v1.0.0/icon-font.min.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/vendor/animate/animate.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/vendor/css-hamburgers/hamburgers.min.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/vendor/animsition/css/animsition.min.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/vendor/select2/select2.min.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/vendor/perfect-scrollbar/perfect-scrollbar.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="/users/css/util.css">
<link rel="stylesheet" type="text/css" href="/users/css/main.css">
<!--===============================================================================================-->
</head>
<style>
	.container {
		display: flex;
		justify-content: center;
		align-items: center;
		width: 100%;
	}

	.success-box {
		width: 480px;
		padding: 20px;
		background: #ffffff;
		border-radius: 20px;
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
		text-align: center;
	}

	.success-icon {
		position: relative;
		width: 80px;
		height: 80px;
		margin: 0 auto 20px;
	}

	.success-icon .circle {
		width: 100%;
		height: 100%;
		border-radius: 50%;
		background: rgba(35, 162, 109, 0.12);
		display: flex;
		justify-content: center;
		align-items: center;
		animation: scaleIn 0.6s ease-out forwards;
	}

	.success-icon .tick {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%) rotate(45deg);
		width: 25px;
		height: 45px;
		border-bottom: 6px solid #23a26d;
		border-right: 6px solid #23a26d;
		opacity: 0;
		animation: fadeInTick 0.8s ease-out forwards 0.6s;
	}

	.success-box h1 {
		color: #474747;
		font-size: 24px;
		margin-bottom: 10px;
	}

	.success-box h2 {
		color: #121212;
		font-size: 32px;
		font-weight: 600;
		margin-bottom: 20px;
	}

	hr {
		border: 0;
		height: 1px;
		background: #ededed;
		margin: 20px 0;
	}

	.details div {
		display: flex;
		justify-content: space-between;
		margin: 10px 0;
		font-size: 18px;
		color: #707070;
	}

	.details div span:last-child {
		font-weight: 500;
		color: #121212;
	}

	.buttons {
		margin-top: 20px;
		display: flex;
		justify-content: center;
		gap: 15px;
	}

	button {
		padding: 10px 20px;
		border-radius: 5px;
		border: none;
		font-size: 16px;
		cursor: pointer;
		transition: background 0.3s ease, transform 0.2s ease;
	}

	.home-btn {
		background: #23a26d;
		color: #fff;
	}

	.pdf-btn {
		background: #ededed;
		color: #707070;
	}

	button:hover {
		transform: scale(1.05);
	}

	.home-btn:hover {
		background: #1d8a5d;
	}

	.pdf-btn:hover {
		background: #dadada;
	}

	@keyframes scaleIn {
		0% {
			transform: scale(0.8);
			opacity: 0.5;
		}

		100% {
			transform: scale(1);
			opacity: 1;
		}
	}

	@keyframes fadeInTick {
		0% {
			opacity: 0;
		}

		100% {
			opacity: 1;
		}
	}
</style>

<body class="animsition">

	<!-- Header -->
	<%- include('./layout/header') %>


	<!-- Content page -->
	<div class="container py-5">
        <div class="order-card w-100 p-4">
            <!-- Success Icon -->
            <div class="text-center mb-4">
                <div class="success-icon">
                    <div class="circle"></div>
                    <div class="tick"></div>
                </div>
                <h2 class="mb-0">Order Placed Successfully!</h2>
                <p class="text-muted">Thank you for your purchase</p>
            </div>

            <!-- Order Summary -->
            <div class="row g-4">
                <!-- Left Column -->
                <div class="col-md-6">
                    <div class="card h-100 border-0 bg-light">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Order Details</h5>
                            <div class="mb-2 d-flex justify-content-between">
                                <span class="text-muted">Order ID:</span>
                                <strong>#<%= order.orderId %></strong>
                            </div>
                            <div class="mb-2 d-flex justify-content-between">
                                <span class="text-muted">Date:</span>
                                <strong><%= new Date(order.createdAt).toLocaleDateString() %></strong>
                            </div>
                            <div class="mb-2 d-flex justify-content-between">
                                <span class="text-muted">Status:</span>
                                <span class="badge bg-success status-badge"><%= order.status %></span>
                            </div>
                            <div class="mb-2 d-flex justify-content-between">
                                <span class="text-muted">Payment Method:</span>
                                <strong><%= order.paymentMethod %></strong>
                            </div>
                            <div class="mb-2 d-flex justify-content-between">
                                <span class="text-muted">Payment Status:</span>
                                <span class="badge <%= order.paymentStatus === 'Completed' ? 'bg-success' : 'bg-warning' %> status-badge">
                                    <%= order.paymentStatus %>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="col-md-6">
                    <div class="card h-100 border-0 bg-light">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Order Summary</h5>
                            <div class="product-list">
                                <% order.orderItems.forEach(item => { %>
                                <div class="product-item">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <h6 class="mb-1"><%= item.productId.name %></h6>
                                            <small class="text-muted">
                                                Size: <%= item.size %> | Qty: <%= item.quantity %>
                                            </small>
                                        </div>
                                        <strong>₹<%= item.price * item.quantity %></strong>
                                    </div>
                                </div>
                                <% }); %>
                            </div>
                            
                            <hr>
                            
                            <div class="d-flex justify-content-between mb-2">
                                <span>Subtotal:</span>
                                <strong>₹<%= order.totalAmount %></strong>
                            </div>
                            <% if (order.coupon) { %>
								<div class="d-flex justify-content-between mb-2 text-success">
									<% if (order.coupon && order.coupon.discount) { %>
										<span>Coupon Applied:</span>
										<strong>-₹<%= order.coupon.discount %></strong>
									<% } else { %>
										<span>No Coupon Applied</span>
									<% } %>
								</div>
								
                            <% } %>
                            <div class="d-flex justify-content-between mt-2">
                                <h6>Total Amount:</h6>
                                <h6>₹<%= order.totalAmount %></h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="text-center mt-4">
                <a href="/home" class="btn btn-success me-2">Back to Home</a>
                <a href="/download-receipt" class="btn btn-outline-secondary">Download Invoice</a>
            </div>
        </div>
    </div>

	
	<!-- Footer -->
	<%- include('./layout/footer') %>
	
	
	<!-- Back to top -->
	<div class="btn-back-to-top" id="myBtn">
		<span class="symbol-btn-back-to-top">
			<i class="zmdi zmdi-chevron-up"></i>
		</span>
	</div>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
	<!--===============================================================================================-->
	<script src="/users/vendor/jquery/jquery-3.2.1.min.js"></script>
	<!--===============================================================================================-->
	<script src="/users/vendor/animsition/js/animsition.min.js"></script>
	<!--===============================================================================================-->
	<script src="/users/vendor/bootstrap/js/popper.js"></script>
	<script src="/users/vendor/bootstrap/js/bootstrap.min.js"></script>
	<!--===============================================================================================-->
	<script src="/users/vendor/select2/select2.min.js"></script>
	<script>
		$(".js-select2").each(function() {
			$(this).select2({
				minimumResultsForSearch: 20,
				dropdownParent: $(this).next('.dropDownSelect2')
			});
		})
	</script>
	<!--===============================================================================================-->
	<script src="/users/vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
	<!--===============================================================================================-->
	<script src="/users/vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script>
		$('.js-pscroll').each(function() {
			$(this).css('position', 'relative');
			$(this).css('overflow', 'hidden');
			var ps = new PerfectScrollbar(this, {
				wheelSpeed: 1,
				scrollingThreshold: 1000,
				wheelPropagation: false,
			});

			$(window).on('resize', function() {
				ps.update();
			})
		});
	</script>
	<!--===============================================================================================-->
	<script src="users/js/main.js"></script>

</body>

</html>